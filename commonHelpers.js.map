{"version":3,"file":"commonHelpers.js","sources":["../src/js/fetch-pixabay.js","../src/js/image-search.js"],"sourcesContent":["'use strict';\n\nconst apiKey = '45020443-554fa7ec416e1f918b290a17c';\nconst url = `https://pixabay.com/api/`;\n\nexport function fetchPixabay(value) {\n  const searchParams = new URLSearchParams({\n    key: apiKey,\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${url}?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n\n    .catch(error => console.log(error));\n}\n","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchPixabay } from './fetch-pixabay';\n\nconst form = document.querySelector('.form');\nconst loading = document.querySelector(\".loader\");\nconst gallery = document.querySelector('.gallery');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction loadingStart() {\n  loading.classList.remove('disabled');\n}\n\nfunction loadingEnd() {\n  loading.classList.add('disabled');\n}\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  const searchValue = evt.target.search.value.trim();\n\n  gallery.innerHTML = '';\n  loadingStart();\n  fetchPixabay(searchValue).then(response => {\n    if (response.hits.length === 0) {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n      loadingEnd();\n      return;\n    } \n\n    loadingEnd();\n    gallery.innerHTML = response.hits\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => {\n          return `\n          <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n              <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\">\n            </a>\n            <ul class=\"image-info\">\n              <li>\n                <h3 class=\"image-title\">Likes</h3>\n                <p class=\"image-stats\">${likes}</p>\n              </li>\n              <li>\n                <h3 class=\"image-title\">Views</h3>\n                <p class=\"image-stats\">${views}</p>\n              </li>\n              <li>\n                <h3 class=\"image-title\">Comments</h3>\n                <p class=\"image-stats\">${comments}</p>\n              </li>\n              <li>\n                <h3 class=\"image-title\">Downloads</h3>\n                <p class=\"image-stats\">${downloads}</p>\n              </li>\n            </ul>\n          </li>`})\n      .join('');\n      lightbox.refresh();\n  });\n\n  form.reset();\n});\n"],"names":["apiKey","url","fetchPixabay","value","searchParams","response","error","form","loading","gallery","lightbox","SimpleLightbox","loadingStart","loadingEnd","evt","searchValue","iziToast","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"2FAEA,MAAMA,EAAS,qCACTC,EAAM,2BAEL,SAASC,EAAaC,EAAO,CAClC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAG,IAAIG,CAAY,EAAE,EAClC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EAEA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CCfA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,SAAS,EAC1CC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,GAAe,CACtBJ,EAAQ,UAAU,OAAO,UAAU,CACrC,CAEA,SAASK,GAAa,CACpBL,EAAQ,UAAU,IAAI,UAAU,CAClC,CAEAD,EAAK,iBAAiB,SAAUO,GAAO,CACrCA,EAAI,eAAc,EAClB,MAAMC,EAAcD,EAAI,OAAO,OAAO,MAAM,OAE5CL,EAAQ,UAAY,GACpBG,IACAV,EAAaa,CAAW,EAAE,KAAKV,GAAY,CACzC,GAAIA,EAAS,KAAK,SAAW,EAAG,CAC9BW,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAClB,CAAO,EACDH,IACA,MACD,CAEDA,IACAJ,EAAQ,UAAYJ,EAAS,KAC1B,IACC,CAAC,CACC,aAAAY,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IACiB;AAAA;AAAA,4CAE2BL,CAAa;AAAA,gDACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,yCAKjCC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA,gBAGjC,EACV,KAAK,EAAE,EACRb,EAAS,QAAO,CACtB,CAAG,EAEDH,EAAK,MAAK,CACZ,CAAC"}